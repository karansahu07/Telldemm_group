/* =========================
   Selected chips & footer CTA
   ========================= */

/* Horizontal chips row */
.selected-chip-row {
  display: flex;
  flex-wrap: nowrap;
  overflow-x: auto;
  padding: 8px 0;
  gap: 8px;

  /* subtle scrollbar */
  &::-webkit-scrollbar { height: 8px; }
  &::-webkit-scrollbar-thumb {
    background: color-mix(in srgb, var(--ion-text-color) 14%, transparent);
    border-radius: 999px;
  }
}

/* Chip tokenization */
ion-chip {
  --background: color-mix(in srgb, var(--ion-color-primary) 12%, var(--ion-item-background));
  --color: var(--ion-text-color);
  --border-color: color-mix(in srgb, var(--ion-color-primary) 28%, var(--ion-border-color));
  --ripple-color: color-mix(in srgb, var(--ion-color-primary) 30%, transparent);
  border: 1px solid var(--border-color);
  cursor: pointer;
  transition: transform .12s ease, background-color .12s ease, border-color .12s ease;

  &:hover {
    --background: color-mix(in srgb, var(--ion-color-primary) 16%, var(--ion-item-background));
  }
  &:focus-visible {
    outline: none;
    box-shadow: var(--focus-ring);
    border-radius: 999px;
  }
}

/* De-emphasize already-added members */
.already-member { opacity: .55; }
.already-text {
  font-style: italic;
  color: color-mix(in srgb, var(--ion-text-color) 60%, transparent);
}

/* Add button: keep your gradient but brand-tint it */
.add-btn {
  /* If you prefer solid brand, uncomment next three lines and remove gradient */
  /* --background: var(--ion-color-primary);
     --background-hover: var(--ion-color-primary-shade);
     --color: var(--ion-color-primary-contrast); */

  /* Gradient version (adapts to primary for consistency) */
  --color: var(--ion-color-primary-contrast, #fff);
  --border-radius: 999px;
  font-weight: 700;
  text-transform: none;
  font-size: 16px;
  padding: 5px 50px;
  height: 48px;

  /* gradient derived from primary tone */
  background:
    linear-gradient(
      175deg,
      color-mix(in srgb, var(--ion-color-primary) 55%, #ffffff) 0%,
      color-mix(in srgb, var(--ion-color-primary) 95%, #000000) 50%
    );
  color: var(--color);
  box-shadow: 0 6px 16px color-mix(in srgb, var(--ion-color-primary) 20%, transparent);

  &:focus-visible { box-shadow: var(--focus-ring); }
}

/* Footer spacing + no shadow */
ion-footer{
  padding-bottom: env(safe-area-inset-bottom, 20px);
  box-shadow: none !important;
  --background: var(--ion-toolbar-background, var(--ion-background-color));
  --color: var(--ion-toolbar-color, var(--ion-text-color));
}

/* Dark-mode polish */
@media (prefers-color-scheme: dark) {
  .selected-chip-row::-webkit-scrollbar-thumb {
    background: color-mix(in srgb, var(--ion-text-color) 24%, transparent);
  }
}
