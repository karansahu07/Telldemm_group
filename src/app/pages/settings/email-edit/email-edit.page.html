<!-- File: edit-email.page.html -->
<ion-header>
<ion-toolbar class="toolbar-light">
<ion-buttons slot="start">
<ion-back-button defaultHref="/settings"></ion-back-button>
</ion-buttons>
<ion-title>Email address</ion-title>
</ion-toolbar>
</ion-header>


<ion-content class="page-content">
<div class="container">
<div class="card center-card">
<div class="icon-section">
<ion-icon name="mail" class="email-icon"></ion-icon>
</div>
<p class="muted center-text">
Email helps you access your account. It isn't visible to others.
</p>


<!-- View Mode -->
<div class="email-info" *ngIf="!isEditing">
<label>Email</label>
<div class="email-row">
<strong>{{ emailForm.value.email }}</strong>
<ion-icon name="pencil-outline" (click)="editEmail()"></ion-icon>
</div>
<div class="verified">
<ion-icon name="checkmark-circle" class="verified-icon"></ion-icon>
<span>Verified</span>
</div>
</div>


<!-- Edit Mode -->
<form *ngIf="isEditing" [formGroup]="emailForm" (ngSubmit)="saveEmail()" class="edit-form">
<ion-item lines="full">
<ion-input type="email" formControlName="email" placeholder="you@example.com"></ion-input>
</ion-item>


<div class="actions">
<ion-button fill="outline" expand="block" (click)="cancelEdit()">Cancel</ion-button>
<ion-button type="submit" color="primary" expand="block" [disabled]="emailForm.invalid">Save</ion-button>
</div>
</form>
</div>
</div>
</ion-content>