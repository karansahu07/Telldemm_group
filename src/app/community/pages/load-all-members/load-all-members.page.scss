/* ===== Chips row (header) ===== */
.chips-row {
  display: flex;
  align-items: center;
  padding: 8px 12px;
  border-bottom: 1px solid var(--ion-border-color);
  background: var(--ion-item-background);
}

/* ===== Horizontal scroller ===== */
.chips-scroll {
  display: flex;
  gap: 8px;
  overflow: auto;
  flex: 1 1 auto;
  padding: 6px 0;
}

/* subtle thumb for webkit scroll */
.chips-scroll::-webkit-scrollbar { height: 8px; }
.chips-scroll::-webkit-scrollbar-thumb {
  background: color-mix(in srgb, var(--ion-text-color) 12%, transparent);
  border-radius: 999px;
}

/* ===== Chip base ===== */
:root {
  --chip-size: 48px;
  --chip-radius: 50%;
}

.chip,
.avatar-initial {
  width: var(--chip-size);
  height: var(--chip-size);
  border-radius: var(--chip-radius);
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Image chip */
.chip {
  background: color-mix(in srgb, var(--ion-text-color) 6%, var(--ion-item-background));
  border: 1px solid var(--ion-border-color);
  transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease;
}
.chip img {
  width: 100%; height: 100%; object-fit: cover; display: block;
}
.chip .initial {
  font-weight: 600; font-size: 18px;
  color: color-mix(in srgb, var(--ion-text-color) 80%, transparent);
}

/* Text/initial avatar (no image) */
.avatar-initial {
  background: color-mix(in srgb, var(--ion-color-primary) 12%, var(--ion-card-background));
  border: 1px solid var(--ion-border-color);
  font-weight: 700;
  color: var(--ion-text-color);
}

/* Hover & focus */
.chip:hover,
.avatar-initial:hover {
  background: color-mix(in srgb, var(--ion-color-primary) 16%, var(--ion-item-background));
}
:where(.chip, .avatar-initial):focus-visible {
  outline: none;
  box-shadow: var(--focus-ring);
}

/* ===== Selection indicator ===== */
.select-indicator {
  display: flex;
  align-items: center;
}

.check-circle,
.empty-circle {
  width: 30px; height: 30px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
}

/* Selected: success tint (fallback to primary) */
.check-circle {
  background: var(--ion-color-success, var(--ion-color-primary));
  color: var(--ion-color-success-contrast, var(--ion-color-primary-contrast, #fff));
  box-shadow: 0 1px 3px rgba(0,0,0,.12);
}

/* Unselected ring */
.empty-circle {
  border: 1px solid var(--ion-border-color);
  background: var(--ion-item-background);
}

/* Selected count text */
.selected-count {
  margin-left: 8px;
  font-size: 13px;
  padding-right: 8px;
  color: color-mix(in srgb, var(--ion-text-color) 60%, transparent);
}

/* ===== Motion & dark-mode niceties ===== */
@media (prefers-reduced-motion: reduce) {
  .chip { transition: none; }
}
@media (prefers-color-scheme: dark) {
  .chips-scroll::-webkit-scrollbar-thumb {
    background: color-mix(in srgb, var(--ion-text-color) 22%, transparent);
  }
}
