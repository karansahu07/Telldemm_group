<ion-header [translucent]="true">
  <ion-toolbar style="display: flex; flex-direction: column; align-items: stretch; --background: white;">
    <ion-buttons slot="start" style="color: black; width: 8%; margin-top: 15px;">
      <ion-back-button defaultHref="/home-screen"></ion-back-button>
    </ion-buttons>

    <div style="display: flex;padding-top: 30px;">
      <ion-title>
        <h2 style="color:#FF1414;font-family: Montserrat-bold;font-size:20px">Settings</h2>
      </ion-title>

      <!-- <ion-buttons slot="end" style="display: flex;margin-right: 10px;">
        <ion-button fill="clear">
          <img src="assets/images/qr-code.svg" style="width: 24px; height: 24px;" />
        </ion-button>
        <ion-button fill="clear">
          <img src="assets/images/camera.svg" style="width: 24px; height: 24px;" />
        </ion-button>
        <ion-button fill="clear" (click)="presentPopover($event)">
          <img src="assets/images/dots (1).svg" style="width: 24px; height: 24px;" />
        </ion-button>
      </ion-buttons> -->
    </div>

  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" style="--background: white;">
  <div style="padding: 5%;">
    <div style="display: flex;align-items: center;justify-content: space-between; cursor: pointer;"
     (click)="goToProfile()">
  <div style="display: flex;align-items: center;gap: 15px;">
    <div class="profile-image-container">
      <ion-spinner name="circular" *ngIf="isLoading" 
                   style="width: 65px; height: 65px;"></ion-spinner>
      <img *ngIf="!isLoading" 
           [src]="profileImageUrl" 
           alt="user_image" 
           (error)="onImageError($event)"
           style="width: 65px; height: 65px; border-radius: 50px; object-fit: cover;" />
    </div>
    <div>
      <p style="color: black;font-family: 'Montserrat-bold';font-size: 20px;margin: 0;">{{sender_name}}</p>
      <p style="color: black; font-family: Montserrat, Medium; font-size: 14px; margin: 0;">
  {{ dpStatus }}
</p>
    </div>
  </div>
  <div>
    <img src="assets/images/barcode-scan.svg" alt="barcode-scan-img">
  </div>
</div>

     <!-- Settings List -->
  <ion-list lines="inset" class="settings-list">
    <ion-item button detail lines="none" (click)="goToAccount()">
      <ion-icon slot="start" name="person-circle-outline"></ion-icon>
      <ion-label>
        <h2>Account</h2>
        <p>Privacy, security, change number</p>
      </ion-label>
    </ion-item>

    <ion-item button detail lines="none" (click)="goToPrivacy()">
      <ion-icon slot="start" name="lock-closed-outline"></ion-icon>
      <ion-label>
        <h2>Privacy</h2>
        <p>Control your privacy settings</p>
      </ion-label>
    </ion-item>

    <ion-item button detail lines="none" (click)="goToAvatar()">
      <ion-icon slot="start" name="image-outline"></ion-icon>
      <ion-label>
        <h2>Avatar</h2>
        <p>Change profile picture</p>
      </ion-label>
    </ion-item>

    <ion-item button detail lines="none" (click)="goToChats()">
      <ion-icon slot="start" name="chatbubble-ellipses-outline"></ion-icon>
      <ion-label>
        <h2>Chats</h2>
        <p>Theme, wallpaper, backup</p>
      </ion-label>
    </ion-item>

    <ion-item button detail lines="none" (click)="goToAccessibility()">
      <ion-icon slot="start" name="accessibility-outline"></ion-icon>
      <ion-label>
        <h2>Accessibility</h2>
        <p>Text size, display options</p>
      </ion-label>
    </ion-item>

    <ion-item button detail lines="none" (click)="goToNotifications()">
      <ion-icon slot="start" name="notifications-outline"></ion-icon>
      <ion-label>
        <h2>Notifications</h2>
        <p>Message, group & call alerts</p>
      </ion-label>
    </ion-item>

    <ion-item button detail lines="none" (click)="goToStorageData()">
      <ion-icon slot="start" name="cloud-outline"></ion-icon>
      <ion-label>
        <h2>Storage & Data</h2>
        <p>Manage storage and network usage</p>
      </ion-label>
    </ion-item>

    <ion-item button detail lines="none" (click)="goToAppLanguage()">
      <ion-icon slot="start" name="globe-outline"></ion-icon>
      <ion-label>
        <h2>App Language</h2>
        <p>Select app language</p>
      </ion-label>
    </ion-item>

    <ion-item button detail lines="none" (click)="goToHelpFeedback()">
      <ion-icon slot="start" name="help-circle-outline"></ion-icon>
      <ion-label>
        <h2>Help & Feedback</h2>
        <p>Help center, contact us, app info</p>
      </ion-label>
    </ion-item>

    <ion-item button detail lines="none" (click)="goToAppUpdates()">
      <ion-icon slot="start" name="download-outline"></ion-icon>
      <ion-label>
        <h2>App Updates</h2>
        <p>Check for updates, auto-update</p>
      </ion-label>
    </ion-item>

    <ion-item button detail lines="none" (click)="goToInviteFriend()">
      <ion-icon slot="start" name="person-add-outline"></ion-icon>
      <ion-label>
        <h2>Invite a Friend</h2>
        <p>Share the app with your contacts</p>
      </ion-label>
    </ion-item>
  </ion-list>

  <!-- Logout -->
  <!-- <div class="logout-row" (click)="logout()">
    <ion-icon name="log-out-outline" class="logout-icon"></ion-icon>
    <div class="logout-text">
      <p class="logout-title">Log Out</p>
      <p class="logout-sub">Clear app data and sign out</p>
    </div>
  </div> -->

    <div style="display: flex;align-items: center;gap: 15px;padding: 20px 0px 0px 5px; cursor: pointer;"
     (click)="logout()">
  <ion-icon name="log-out-outline" style="font-size: 24px; color: #FF1414;"></ion-icon>
  <div>
    <p style="color: #FF1414;font-family: 'Montserrat, SemiBold';font-size: 18px;margin: 0;">Log Out</p>
    <p style="color: black;font-family: Montserrat, Medium;font-size: 14px;margin: 0;">Clear app data and sign out</p>
  </div>
</div>

  </div>
</ion-content>